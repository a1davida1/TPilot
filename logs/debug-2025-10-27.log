{"date":"Mon Oct 27 2025 01:26:50 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.25,0.91,0.49],"uptime":506.31},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":666032,"external":4370324,"heapTotal":165232640,"heapUsed":137936368,"rss":256237568},"pid":5898,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T06:26:50.474Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"level":"warn","message":"⚠️ Turnstile not configured - bypassing verification in development","timestamp":"2025-10-27T07:28:51.905Z"}
{"date":"Mon Oct 27 2025 16:26:14 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[0.72,0.56,1.02],"uptime":54469.98},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":718079,"external":4448166,"heapTotal":208326656,"heapUsed":183654368,"rss":280698880},"pid":302699,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:26:14.148Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:27:24 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.32,0.83,1.08],"uptime":54540.52},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":753882,"external":4508990,"heapTotal":191537152,"heapUsed":167993744,"rss":274231296},"pid":303216,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:27:24.685Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:28:11 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.9,1.03,1.13],"uptime":54586.86},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":487286,"external":4194817,"heapTotal":180408320,"heapUsed":147779584,"rss":251228160},"pid":303616,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:28:11.031Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:31:23 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.45,1.3,1.22],"uptime":54779.41},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":777453,"external":4542667,"heapTotal":192061440,"heapUsed":168432664,"rss":279982080},"pid":304542,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:31:23.576Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:35:49 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.94,1.44,1.28],"uptime":55045.11},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":548556,"external":4292514,"heapTotal":181624832,"heapUsed":158719496,"rss":255348736},"pid":305273,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:35:49.281Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:36:10 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.74,1.43,1.28],"uptime":55066.06},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":724119,"external":4488297,"heapTotal":193900544,"heapUsed":167108456,"rss":273186816},"pid":305569,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:36:10.233Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:36:46 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[2.24,1.61,1.35],"uptime":55102.18},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":514731,"external":4258168,"heapTotal":174268416,"heapUsed":150443384,"rss":247336960},"pid":305870,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:36:46.346Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 27 2025 16:39:18 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.24,1.51,1.35],"uptime":55254.56},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":663757,"external":4418417,"heapTotal":172933120,"heapUsed":150524784,"rss":250040320},"pid":306356,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-27T21:39:18.724Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"level":"info","message":"Sentry initialized successfully","timestamp":"2025-10-28T04:39:29.681Z"}
{"level":"info","message":"Sentry initialized successfully","timestamp":"2025-10-28T04:40:43.770Z"}
{"level":"info","message":"[Gemini] Text model: gemini-2.5-flash","timestamp":"2025-10-28T04:40:45.007Z"}
{"level":"info","message":"[Gemini] Vision model: gemini-2.5-flash","timestamp":"2025-10-28T04:40:45.008Z"}
{"level":"info","message":"[OpenRouter] Default model: x-ai/grok-4-fast","timestamp":"2025-10-28T04:40:45.008Z"}
{"level":"info","message":"[HEALTH] Script executed directly, starting bootstrap...","timestamp":"2025-10-28T04:40:45.474Z"}
{"level":"info","message":"[HEALTH] Starting application bootstrap...","timestamp":"2025-10-28T04:40:45.474Z"}
{"level":"info","message":"[HEALTH] Environment: development","timestamp":"2025-10-28T04:40:45.475Z"}
{"level":"info","message":"[HEALTH] Platform: linux","timestamp":"2025-10-28T04:40:45.475Z"}
{"level":"info","message":"[HEALTH] Architecture: x64","timestamp":"2025-10-28T04:40:45.475Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-28T04:40:45.486Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-28T04:40:45.486Z"}
{"error":"Connection is closed.","level":"warn","message":"Failed to connect to Redis cache","timestamp":"2025-10-28T04:40:45.487Z"}
{"level":"info","message":"Using memory store for rate limiting (Redis disabled for beta)","timestamp":"2025-10-28T04:40:45.490Z"}
{"level":"info","message":"Rate limiter using memory store for api","timestamp":"2025-10-28T04:40:45.491Z"}
{"level":"info","message":"Rate limiter using memory store for posts","timestamp":"2025-10-28T04:40:45.493Z"}
{"level":"info","message":"Rate limiter using memory store for captions","timestamp":"2025-10-28T04:40:45.494Z"}
{"level":"info","message":"Rate limiter using memory store for default","timestamp":"2025-10-28T04:40:45.494Z"}
{"endpoints":["api","auth","posting","captions","upload","feedback","passwordReset"],"level":"info","message":"Rate limiting middleware configured","redisAvailable":false,"timestamp":"2025-10-28T04:40:45.495Z"}
{"level":"info","message":"Advanced rate limiting applied","timestamp":"2025-10-28T04:40:45.495Z"}
{"level":"info","message":"Observability middleware configured","timestamp":"2025-10-28T04:40:45.501Z"}
{"level":"info","message":"Observability middleware applied","timestamp":"2025-10-28T04:40:45.501Z"}
{"level":"info","message":"Session store configured with PostgreSQL backend","timestamp":"2025-10-28T04:40:45.502Z"}
{"apiPrefix":"/api","level":"info","loginRoute":"/api/auth/login","message":"Setting up auth routes","signupRoute":"/api/auth/signup","timestamp":"2025-10-28T04:40:45.503Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-28T04:40:45.586Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-28T04:40:45.587Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-28T04:40:45.787Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-28T04:40:45.788Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-28T04:40:46.088Z"}
{"level":"warn","message":"Redis connection failed after 3 retries, disabling cache","timestamp":"2025-10-28T04:40:46.089Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-28T04:40:46.089Z"}
{"email":"admin@thottopilot.com","level":"info","message":"Admin account configured successfully","timestamp":"2025-10-28T04:40:46.965Z","username":"admin@thottopilot.com"}
{"level":"info","message":"🔧 Applying production database fixes...","timestamp":"2025-10-28T04:40:46.966Z"}
{"level":"info","message":"✅ Admin account verified: admin@thottopilot.com","timestamp":"2025-10-28T04:40:47.109Z"}
{"level":"info","message":"User a1davida1 already has tier: pro","timestamp":"2025-10-28T04:40:47.260Z"}
{"level":"info","message":"User a1davida1 email already verified","timestamp":"2025-10-28T04:40:47.352Z"}
{"level":"info","message":"✅ Production database fixes completed","timestamp":"2025-10-28T04:40:47.352Z"}
{"level":"info","message":"Initializing queue system...","timestamp":"2025-10-28T04:40:47.354Z"}
{"level":"info","message":"Queue backend selection: USE_PG_QUEUE=true, REDIS_URL=true","timestamp":"2025-10-28T04:40:47.354Z"}
{"level":"info","message":"🔧 Using PostgreSQL queue backend","timestamp":"2025-10-28T04:40:47.354Z"}
{"level":"error","message":"🔧 Initializing PostgreSQL Queue backend","timestamp":"2025-10-28T04:40:47.354Z"}
{"level":"info","message":"Queue system initialized","timestamp":"2025-10-28T04:40:47.355Z"}
{"level":"error","message":"🔍 Starting queue monitoring...","timestamp":"2025-10-28T04:40:47.364Z"}
{"level":"error","message":"✅ Queue monitoring started (interval: 30000ms)","timestamp":"2025-10-28T04:40:48.992Z"}
{"level":"info","message":"Background workers initialized","timestamp":"2025-10-28T04:40:48.993Z"}
{"level":"info","message":"🚀 Starting cron job manager...","timestamp":"2025-10-28T04:40:48.994Z"}
{"level":"info","message":"✅ Started cron job: process-scheduled-posts (* * * * *)","timestamp":"2025-10-28T04:40:49.032Z"}
{"level":"info","message":"✅ Started cron job: cleanup-old-posts (0 3 * * *)","timestamp":"2025-10-28T04:40:49.038Z"}
{"level":"info","message":"✅ Started cron job: update-analytics (0 * * * *)","timestamp":"2025-10-28T04:40:49.043Z"}
{"level":"info","message":"✅ Started cron job: check-stuck-jobs (*/5 * * * *)","timestamp":"2025-10-28T04:40:49.046Z"}
{"level":"info","message":"✅ Started cron job: sync-reddit-communities (0 2 * * 1)","timestamp":"2025-10-28T04:40:49.055Z"}
{"level":"info","message":"✅ Started cron job: database-backup (0 4 * * *)","timestamp":"2025-10-28T04:40:49.059Z"}
{"level":"info","message":"✅ Started cron job: poll-caption-metrics (15 * * * *)","timestamp":"2025-10-28T04:40:49.064Z"}
{"level":"info","message":"✅ Started cron job: update-optimal-times (0 3 * * 0)","timestamp":"2025-10-28T04:40:49.074Z"}
{"level":"info","message":"✅ Started cron job: daily-health-checks (0 2 * * *)","timestamp":"2025-10-28T04:40:49.079Z"}
{"level":"info","message":"✅ Cron job manager started successfully","timestamp":"2025-10-28T04:40:49.079Z"}
{"level":"info","message":"Cron manager started","timestamp":"2025-10-28T04:40:49.079Z"}
{"level":"info","message":"Queue monitoring started (interval: 30000ms)","timestamp":"2025-10-28T04:40:49.080Z"}
{"level":"info","message":"Worker auto-scaling started (interval: 60000ms)","timestamp":"2025-10-28T04:40:49.084Z"}
{"level":"debug","message":"Client build candidate missing index at /home/dave/CascadeProjects/dist/client/index.html","timestamp":"2025-10-28T04:40:49.300Z"}
{"level":"debug","message":"Client build candidate missing index at /home/dave/CascadeProjects/client/dist/index.html","timestamp":"2025-10-28T04:40:49.300Z"}
{"level":"info","message":"Serving client from: /home/dave/CascadeProjects/TPilot/client","timestamp":"2025-10-28T04:40:49.300Z"}
{"level":"info","message":"Vite development server configured","timestamp":"2025-10-28T04:40:49.927Z"}
{"level":"info","message":"[HEALTH] Express app created successfully in 4454ms","timestamp":"2025-10-28T04:40:49.928Z"}
{"level":"info","message":"[HEALTH] Target port from environment: 3005","timestamp":"2025-10-28T04:40:49.928Z"}
{"level":"info","message":"[HEALTH] Starting server on 0.0.0.0:3005","timestamp":"2025-10-28T04:40:49.928Z"}
{"level":"info","message":"[HEALTH] ✅ Server started successfully on port 3005 in 4455ms","timestamp":"2025-10-28T04:40:49.929Z"}
{"level":"info","message":"serving on port 3005","timestamp":"2025-10-28T04:40:49.929Z"}
{"level":"debug","message":"⏰ Running cron job: process-scheduled-posts","timestamp":"2025-10-28T04:41:00.007Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","ip":"127.0.0.1","level":"info","message":"Request received","method":"GET","path":"/api/reddit/communities","query":{"category":"all"},"timestamp":"2025-10-28T04:41:03.843Z","userAgent":"curl/8.5.0"}
{"category":"all","correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"info","message":"Fetching Reddit communities","search":"none","timestamp":"2025-10-28T04:41:03.849Z","user":"anonymous"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"info","message":"Found 96 communities before filtering","timestamp":"2025-10-28T04:41:04.326Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"info","message":"Returning 96 validated communities","timestamp":"2025-10-28T04:41:04.334Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","duration":493,"level":"info","message":"Response sent","method":"GET","path":"/api/reddit/communities","statusCode":200,"timestamp":"2025-10-28T04:41:04.337Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"info","message":"GET /api/reddit/communities 200 in 492ms :: [{\"id\":\"gonewild\",\"name\":\"gonewild\",\"displayName\":\"GoneWild\",\"members\":3200000,\"engagementRate\":12,\"category\":\"gonewild\",\"verificationRequired\":true,\"promotionAllowed\":\"no\",\"postingLimits\":{\"perDay\":3,\"perWeek\":10,\"cooldownHours\":null},\"rules\":{\"eligibility\":{\"minKarma\":null,\"minAccountAgeDays\":null,\"verificationRequired\":true,\"requiresApproval\":false},\"content\":{\"sellingPolicy\":\"not_allowed\",\"watermarksAllowed\":false,\"promotionalLinks\":null,\"requiresOriginalContent\":false,\"nsfwRequired\":true,\"titleGuidelines\":[],\"contentGuidelines\":[\"Verification required\",\"No selling\",\"OC only\"],\"linkRestrictions\":[],\"bannedContent\":[],\"formattingRequirements\":[]},\"posting\":{\"maxPostsPerDay\":3,\"cooldownHours\":null},\"notes\":null},\"bestPostingTimes\":[\"evening\",\"night\"],\"averageUpvotes\":500,\"successProbability\":65,\"growthTrend\":\"stable\",\"modActivity\":\"high\",\"description\":\"Share your wild side\",\"tags\":[\"amateur\",\"verified\"],\"competitionLevel\":\"high\"},{\"id\":\"realgirls\",\"name\":\"RealGirls\",\"dis… (truncated)","requestId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","timestamp":"2025-10-28T04:41:04.347Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"debug","message":"Health metrics collected","process":{"cpu":{"system":525684,"user":6057982},"memory":{"external":15.09732723236084,"heapTotal":110.05859375,"heapUsed":105.59410095214844,"rss":260.8359375},"pid":377697,"uptime":62.288553909},"system":{"freeMemory":6926.7265625,"loadAverage":[3.08,2.57,1.88],"totalMemory":32039.32421875},"timestamp":"2025-10-28T04:41:45.501Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"debug","message":"⏰ Running cron job: process-scheduled-posts","timestamp":"2025-10-28T04:42:00.005Z"}
{"correlationId":"ca2e30c5-71e0-4328-86d9-9d0199f236e8","level":"debug","message":"Health metrics collected","process":{"cpu":{"system":544434,"user":6297558},"memory":{"external":15.115453720092773,"heapTotal":110.05859375,"heapUsed":105.58731842041016,"rss":261.30078125},"pid":377697,"uptime":122.288489933},"system":{"freeMemory":6974.59375,"loadAverage":[3.09,2.69,1.97],"totalMemory":32039.32421875},"timestamp":"2025-10-28T04:42:45.501Z"}
