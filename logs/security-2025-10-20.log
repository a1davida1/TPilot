{"date":"Mon Oct 20 2025 07:49:56 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[2.28,2.02,2.07],"uptime":11059.3},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":598055,"external":4348784,"heapTotal":190574592,"heapUsed":168115096,"rss":281014272},"pid":35183,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T12:49:56.450Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 20 2025 07:50:20 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[2.3,2.03,2.08],"uptime":11082.93},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":590407,"external":4333523,"heapTotal":178532352,"heapUsed":153616456,"rss":259694592},"pid":35557,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T12:50:20.081Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 20 2025 08:07:49 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[2.7,1.97,2.02],"uptime":12132.16},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":622981,"external":4372866,"heapTotal":197300224,"heapUsed":172731800,"rss":275644416},"pid":38657,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T13:07:49.312Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 20 2025 08:13:10 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[3.17,2.84,2.41],"uptime":12453.29},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":580782,"external":4344559,"heapTotal":171737088,"heapUsed":146746456,"rss":248700928},"pid":40374,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T13:13:10.441Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"date":"Mon Oct 20 2025 08:13:33 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[3.26,2.87,2.42],"uptime":12476.73},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":518357,"external":4223241,"heapTotal":196476928,"heapUsed":161597840,"rss":280477696},"pid":40650,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T13:13:33.877Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"level":"warn","message":"⚠️ Turnstile not configured - bypassing verification in development","timestamp":"2025-10-20T13:14:11.489Z"}
{"err":{"cause":{"code":"28P01","file":"auth.c","length":100,"line":"331","name":"error","routine":"auth_failed","severity":"FATAL"},"params":["admin@example.com","admin",1],"query":"select \"id\", \"username\", \"password\", \"email\", \"role\", \"is_admin\", \"email_verified\", \"first_name\", \"last_name\", \"tier\", \"must_change_password\", \"subscription_status\", \"trial_ends_at\", \"provider\", \"provider_id\", \"avatar\", \"bio\", \"referral_code_id\", \"referred_by\", \"reddit_username\", \"reddit_access_token\", \"reddit_refresh_token\", \"reddit_id\", \"stripe_customer_id\", \"stripe_subscription_id\", \"catbox_userhash\", \"banned_at\", \"suspended_until\", \"ban_reason\", \"suspension_reason\", \"created_at\", \"updated_at\", \"last_login\", \"password_reset_at\", \"deleted_at\", \"is_deleted\", \"avatar_url\", \"website\", \"timezone\", \"language\", \"two_factor_enabled\", \"last_login_at\", \"password_hash\", \"last_password_change\", \"posts_count\", \"captions_generated\" from \"users\" where (\"users\".\"email\" = $1 or \"users\".\"username\" = $2) limit $3"},"level":"error","message":"Failed to ensure admin account exists","timestamp":"2025-10-20T13:14:11.780Z"}
{"level":"error","message":"⚠️ Set ADMIN_PASSWORD or ADMIN_PASSWORD_HASH in production!","timestamp":"2025-10-20T13:14:11.780Z"}
{"error":{"cause":{"code":"28P01","file":"auth.c","length":100,"line":"331","name":"error","routine":"auth_failed","severity":"FATAL"},"params":["admin@example.com","admin",1],"query":"select \"id\", \"username\", \"password\", \"email\", \"role\", \"is_admin\", \"email_verified\", \"first_name\", \"last_name\", \"tier\", \"must_change_password\", \"subscription_status\", \"trial_ends_at\", \"provider\", \"provider_id\", \"avatar\", \"bio\", \"referral_code_id\", \"referred_by\", \"reddit_username\", \"reddit_access_token\", \"reddit_refresh_token\", \"reddit_id\", \"stripe_customer_id\", \"stripe_subscription_id\", \"catbox_userhash\", \"banned_at\", \"suspended_until\", \"ban_reason\", \"suspension_reason\", \"created_at\", \"updated_at\", \"last_login\", \"password_reset_at\", \"deleted_at\", \"is_deleted\", \"avatar_url\", \"website\", \"timezone\", \"language\", \"two_factor_enabled\", \"last_login_at\", \"password_hash\", \"last_password_change\", \"posts_count\", \"captions_generated\" from \"users\" where (\"users\".\"email\" = $1 or \"users\".\"username\" = $2) limit $3"},"level":"error","message":"❌ Failed to apply production fixes","timestamp":"2025-10-20T13:14:11.787Z"}
{"date":"Mon Oct 20 2025 08:42:13 GMT-0500 (Central Daylight Time)","error":{},"level":"error","message":"unhandledRejection: caption request failed\nError: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","os":{"loadavg":[1.82,1.94,2.12],"uptime":14196.17},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/node_modules/tinypool/dist/entry/process.js"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":545376,"external":4262360,"heapTotal":166649856,"heapUsed":139126008,"rss":243376128},"pid":45751,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error: caption request failed\n    at /home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:99:13\n    at retryWithBackoff (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:27:14)\n    at captionImage (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:89:15)\n    at Module.nsfwCaptionFallback (/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts:120:19)","timestamp":"2025-10-20T13:42:13.315Z","trace":[{"column":13,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":null,"line":99,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"retryWithBackoff","line":27,"method":null,"native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"captionImage","line":89,"method":null,"native":false},{"column":19,"file":"/home/dave/CascadeProjects/TPilot/server/caption/nsfwFallback.ts","function":"Module.nsfwCaptionFallback","line":120,"method":"nsfwCaptionFallback","native":false}]}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:55:07.546Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:55:07.547Z"}
{"error":"Connection is closed.","level":"warn","message":"Failed to connect to Redis cache","timestamp":"2025-10-20T18:55:07.547Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:55:07.648Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:55:07.648Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:55:07.849Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:55:07.849Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:55:08.149Z"}
{"level":"warn","message":"Redis connection failed after 3 retries, disabling cache","timestamp":"2025-10-20T18:55:08.150Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:55:08.150Z"}
{"level":"error","message":"🔧 Initializing PostgreSQL Queue backend","timestamp":"2025-10-20T18:55:08.736Z"}
{"level":"error","message":"🔍 Starting queue monitoring...","timestamp":"2025-10-20T18:55:08.742Z"}
{"level":"error","message":"✅ Queue monitoring started (interval: 30000ms)","timestamp":"2025-10-20T18:55:10.913Z"}
{"correlationId":"0671cd00-5bb9-4861-957f-3e012010586d","date":"Mon Oct 20 2025 13:55:20 GMT-0500 (Central Daylight Time)","error":{"code":"ERR_HTTP_HEADERS_SENT"},"level":"error","message":"unhandledRejection: Cannot set headers after they are sent to the client\nError [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:655:11)\n    at ServerResponse.header (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:278:15)\n    at errorHandler (/home/dave/CascadeProjects/TPilot/server/middleware/security.ts:540:42)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at param (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at <anonymous> (/home/dave/CascadeProjects/TPilot/server/routes.ts:951:5)","os":{"loadavg":[2.31,1.82,1.89],"uptime":32983.63},"process":{"argv":["/usr/bin/node","/home/dave/CascadeProjects/TPilot/server/index.ts"],"cwd":"/home/dave/CascadeProjects/TPilot","execPath":"/usr/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":789767,"external":6894500,"heapTotal":155545600,"heapUsed":118241056,"rss":420610048},"pid":80746,"uid":1000,"version":"v20.19.5"},"rejection":true,"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at ServerResponse.setHeader (node:_http_outgoing:655:11)\n    at ServerResponse.header (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:794:10)\n    at ServerResponse.send (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:174:12)\n    at ServerResponse.json (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js:278:15)\n    at errorHandler (/home/dave/CascadeProjects/TPilot/server/middleware/security.ts:540:42)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:71:5)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at param (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:365:14)\n    at param (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:376:14)\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:421:3)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at Layer.handle_error (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js:67:12)\n    at trim_prefix (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:326:13)\n    at /home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:286:9\n    at Function.process_params (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:346:12)\n    at next (/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js:280:10)\n    at <anonymous> (/home/dave/CascadeProjects/TPilot/server/routes.ts:951:5)","timestamp":"2025-10-20T18:55:20.184Z","trace":[{"column":11,"file":"node:_http_outgoing","function":"ServerResponse.setHeader","line":655,"method":"setHeader","native":false},{"column":10,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js","function":"ServerResponse.header","line":794,"method":"header","native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js","function":"ServerResponse.send","line":174,"method":"send","native":false},{"column":15,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/response.js","function":"ServerResponse.json","line":278,"method":"json","native":false},{"column":42,"file":"/home/dave/CascadeProjects/TPilot/server/middleware/security.ts","function":"errorHandler","line":540,"method":null,"native":false},{"column":5,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js","function":"Layer.handle_error","line":71,"method":"handle_error","native":false},{"column":13,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"trim_prefix","line":326,"method":null,"native":false},{"column":9,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js","function":"Layer.handle_error","line":67,"method":"handle_error","native":false},{"column":13,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"trim_prefix","line":326,"method":null,"native":false},{"column":9,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"param","line":365,"method":null,"native":false},{"column":14,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"param","line":376,"method":null,"native":false},{"column":3,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"Function.process_params","line":421,"method":"process_params","native":false},{"column":10,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js","function":"Layer.handle_error","line":67,"method":"handle_error","native":false},{"column":13,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"trim_prefix","line":326,"method":null,"native":false},{"column":9,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/layer.js","function":"Layer.handle_error","line":67,"method":"handle_error","native":false},{"column":13,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"trim_prefix","line":326,"method":null,"native":false},{"column":9,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":null,"line":286,"method":null,"native":false},{"column":12,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"/home/dave/CascadeProjects/TPilot/node_modules/express/lib/router/index.js","function":"next","line":280,"method":null,"native":false},{"column":5,"file":"/home/dave/CascadeProjects/TPilot/server/routes.ts","function":"<anonymous>","line":951,"method":null,"native":false}]}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:56:19.485Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:56:19.485Z"}
{"error":"Connection is closed.","level":"warn","message":"Failed to connect to Redis cache","timestamp":"2025-10-20T18:56:19.486Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:56:19.586Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:56:19.586Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:56:19.787Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:56:19.787Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T18:56:20.088Z"}
{"level":"warn","message":"Redis connection failed after 3 retries, disabling cache","timestamp":"2025-10-20T18:56:20.088Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T18:56:20.089Z"}
{"level":"error","message":"🔧 Initializing PostgreSQL Queue backend","timestamp":"2025-10-20T18:56:21.398Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T21:57:57.225Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T21:57:57.225Z"}
{"error":"Connection is closed.","level":"warn","message":"Failed to connect to Redis cache","timestamp":"2025-10-20T21:57:57.225Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T21:57:57.327Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T21:57:57.328Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T21:57:57.529Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T21:57:57.530Z"}
{"error":"connect ECONNREFUSED 127.0.0.1:6379","level":"warn","message":"Redis cache error, falling back to no-cache mode","timestamp":"2025-10-20T21:57:57.830Z"}
{"level":"warn","message":"Redis connection failed after 3 retries, disabling cache","timestamp":"2025-10-20T21:57:57.831Z"}
{"level":"warn","message":"Redis cache connection closed","timestamp":"2025-10-20T21:57:57.832Z"}
{"level":"error","message":"🔧 Initializing PostgreSQL Queue backend","timestamp":"2025-10-20T21:57:58.894Z"}
{"level":"error","message":"🔍 Starting queue monitoring...","timestamp":"2025-10-20T21:57:58.901Z"}
