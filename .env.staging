# ThottoPilot Staging Environment Configuration
# This file serves as a template for staging deployment
# Copy to your staging server and fill with staging-specific values

# ============================================
# STAGING ENVIRONMENT
# ============================================

NODE_ENV=staging
PORT=3000
APP_BASE_URL=https://staging.thottopilot.com
FRONTEND_URL=https://staging.thottopilot.com

# ============================================
# DATABASE (Use staging database)
# ============================================

DATABASE_URL=postgresql://staging_user:staging_pass@staging-db.example.com:5432/thottopilot_staging

# ============================================
# SECURITY (Use different secrets than production!)
# ============================================

JWT_SECRET=staging-jwt-secret-min-32-characters-change-this
SESSION_SECRET=staging-session-secret-min-32-characters-change-this
COOKIE_SECURE=true

# ============================================
# MONITORING
# ============================================

# Sentry (use staging project)
SENTRY_DSN=https://staging-key@xxx.ingest.sentry.io/staging-project
SENTRY_ENVIRONMENT=staging
SENTRY_TRACES_SAMPLE_RATE=0.5
SENTRY_PROFILES_SAMPLE_RATE=0.5

# ============================================
# EXTERNAL SERVICES (Use test/staging credentials)
# ============================================

# Reddit (create staging app)
REDDIT_CLIENT_ID=staging_reddit_client_id
REDDIT_CLIENT_SECRET=staging_reddit_secret
REDDIT_REDIRECT_URI=https://staging.thottopilot.com/api/reddit/callback
REDDIT_USER_AGENT=ThottoPilot-Staging/1.0.0

# Stripe (use test mode)
STRIPE_SECRET_KEY=sk_test_staging_key
STRIPE_WEBHOOK_SECRET=whsec_staging_webhook
STRIPE_PRICE_ID_STARTER=price_test_starter
STRIPE_PRICE_ID_PRO=price_test_pro
STRIPE_PRICE_ID_PREMIUM=price_test_premium

# Imgur (use separate app for staging)
IMGUR_CLIENT_ID=staging_imgur_client_id
IMGUR_CLIENT_SECRET=staging_imgur_secret
IMGUR_RATE_WARN_THRESHOLD=500

# AI Services (use same keys but lower rate limits)
OPENROUTER_API_KEY=sk-or-v1-staging-key

# ============================================
# FEATURE FLAGS (Test new features)
# ============================================

IMAGESHIELD_ENABLED=true
WATERMARK_ENABLED=true
DEBUG=true
VERBOSE_LOGGING=true

# ============================================
# RATE LIMITS (More restrictive for staging)
# ============================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=50
MAX_POSTS_PER_SUBREDDIT_24H=1

# Tier Limits (Lower for testing)
DAILY_GENERATIONS_FREE=3
DAILY_GENERATIONS_STARTER=10
DAILY_GENERATIONS_PRO=50
DAILY_GENERATIONS_PREMIUM=100

# ============================================
# CORS (Allow staging frontend only)
# ============================================

ALLOWED_ORIGINS=https://staging.thottopilot.com
CORS_ORIGIN=https://staging.thottopilot.com

# ============================================
# ADMIN ACCESS
# ============================================

ADMIN_EMAIL=admin@staging.thottopilot.com
ADMIN_PASSWORD=staging-admin-password-change-this
